name: 简体中文化

on:
  push:
  schedule:
    - cron: 0 * * * *
  workflow_dispatch: # workflow_dispatch 要放最后，否则会导致 schedule 失效

permissions:
  contents: write

jobs:
  convert:
    runs-on: ubuntu-latest
    env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    steps:
      - name: 拉取代码
        uses: actions/checkout@v5
      - name: 安装环境
        uses: actions/setup-python@v6
        with:
          python-version: 3.13
      - name: 安装依赖
        run: |
          pip install -r requirements.txt
      - name: 开始转换
        run: |
          python convert.py